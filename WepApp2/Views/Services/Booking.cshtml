<!--

// ================================
// Done By The Best Group (Group2)
// ================================

-->

@{
    ViewBag.Title = "إدارة حجز الأجهزة";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- روابط ملفات التنسيق (CSS) -->
    <link href="~/css/services.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<!-- بداية رأس الصفحة: العنوان وزر الرجوع -->
<div class="page-header-with-back-btn">
    <div>
        <h1 class="page-title">إدارة حجز الأجهزة</h1>
        <p class="page-subtitle">هنا يمكنك إدارة جميع سجلات حجز الأجهزة</p>
    </div>
    <button class="action-btn back-to-services-btn" onclick="window.location.href = '@Url.Action("Index", "Services")'">
        <span class="fas fa-arrow-right"></span>
    </button>
</div>

<!-- بداية محتوى الصفحة الرئيسي: الجدول -->
<div class="data-table-container">
    <div class="action-buttons-header">
        <button class="action-btn add-new-item-btn" onclick="openForm('booking','add')">
            <span class="fas fa-plus me-2"></span>إضافة حجز جهاز جديد
        </button>
    </div>

    <table class="data-table">
        <thead>
            <tr>
                <th>اسم الجهاز</th>
                <th>الإجراءات</th>
            </tr>
        </thead>
        <tbody>
            <!-- سجل: طابعة ثلاثية الأبعاد -->
            <tr>
                <td>طابعة ثلاثية الأبعاد</td>
                <td class="action-buttons">
                    <button class="action-btn delete-btn" onclick="openForm('booking','delete', 'dev001')">حذف</button>
                </td>
            </tr>

            <!-- سجل: طابعة ليزر -->
            <tr>
                <td>طابعة ليزر</td>
                <td class="action-buttons">
                    <button class="action-btn delete-btn" onclick="openForm('booking','delete', 'dev002')">حذف</button>
                </td>
            </tr>

            <!-- سجل: لوح تطوير أردوينو -->
            <tr>
                <td>لوح تطوير أردوينو</td>
                <td class="action-buttons">
                    <button class="action-btn delete-btn" onclick="openForm('booking','delete', 'dev003')">حذف</button>
                </td>
            </tr>

            <!-- سجل: نظارات الواقع الافتراضي -->
            <tr>
                <td>نظارات الواقع الافتراضي</td>
                <td class="action-buttons">
                    <button class="action-btn delete-btn" onclick="openForm('booking','delete', 'dev004')">حذف</button>
                </td>
            </tr>

            <!-- سجل: روبوت تعليمي -->
            <tr>
                <td>روبوت تعليمي</td>
                <td class="action-buttons">
                    <button class="action-btn delete-btn" onclick="openForm('booking','delete', 'dev005')">حذف</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<!-- تراك التعتيم للنوافذ المنبثقة -->
<div class="overlay" id="overlay" style="display: none;"></div>

<!-- نافذة منبثقة: إضافة / حذف -->
<div class="form-popup" id="popupForm" style="display: none;">
    <h2 id="formTitle"></h2>
    <div id="formContent"></div>
    <div style="margin-top: 15px; display: flex; justify-content: flex-end; gap: 10px;">
        <button class="action-btn" id="submitButton">إضافة</button>
        <button class="action-btn" style="background-color: #6c757d;" onclick="closeForm()">إلغاء</button>
    </div>
</div>

<!-- نافذة منبثقة: تأكيد الإجراء -->
<div id="confirmActionPopup" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); z-index: 1001; text-align: center;">
    <p id="confirmActionMessage" style="margin-bottom: 20px;">هل أنت متأكد؟</p>
    <button id="confirmActualActionButton" class="btn btn-success" style="margin: 0 10px;">تأكيد</button>
    <button id="cancelActionButton" class="btn btn-secondary">إلغاء</button>
</div>

<!-- نافذة منبثقة: نجاح العملية -->
<div class="success-popup" id="successMessagePopup" style="display: none;">
    <div class="success-icon-container">
        <!-- أيقونة علامة النجاح -->
        <svg class="success-checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
            <circle class="success-checkmark-circle" cx="26" cy="26" r="25" fill="none" />
            <path class="success-checkmark-check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" />
        </svg>
    </div>
    <h3 id="successMessageTitle">تمت العملية بنجاح!</h3>
    <p id="successMessageContent"></p>
</div>

<!-- ملفات الجافاسكربت -->
@section Scripts {
    <script src="~/js/services.js"></script>
}
